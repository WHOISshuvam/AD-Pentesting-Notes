#### Local Username Enumeration

- Enumerating User
```
(cmd) echo %USERNAME% | whoami
thm-winfun2\administrator
(In Powershell) $env:username
Administrator
```

#### Checking Privilege
```
whoami /priv
```

```
whoami /groups
```
![Screenshot at 2023-01-04 10-37-28](https://user-images.githubusercontent.com/85208639/210487635-65a66e20-9baa-4c47-841c-fc0eb4c3e500.png)

- Check Users : 
 - $net user
 - $whoami /all  
 
 - Useful Powershell Commands
 -  Get-LocalUser | ft Name,Enabled,LastLogon (ft displays only those columns containing Name, Enabled, LastLogon)

![Screenshot at 2023-01-04 10-46-01](https://user-images.githubusercontent.com/85208639/210488391-abc3afec-4ca6-4948-844e-77f5b79cfa34.png)

- Get-ChildItem C:\Users\ -Force | select Name

![Screenshot at 2023-01-04 10-49-21](https://user-images.githubusercontent.com/85208639/210488711-27ea4412-8261-4158-88c5-2772f1306177.png)

- $net accounts (Gives minimum and maximum days of password, Useful During Bruteforce)
- $net user Administrator (Gives Informaton About Administrator account)
![Screenshot at 2023-01-04 10-54-57](https://user-images.githubusercontent.com/85208639/210489246-a0e04491-ff03-4628-b4e0-8657b9769f96.png)

- Get-LocalGroup 
- net localgroup Administrator (Lists groups of Specific User & Works on cmd )
- Get-LocalGroup Administrators
![Screenshot at 2023-01-04 11-13-22](https://user-images.githubusercontent.com/85208639/210490986-1fd63382-2c34-4b1a-aa7b-7e6ad97e1e4f.png)

#### Network Enumeration

- Check the ip address, Default gateway, hostname etc.
- $ Get-NetIPConfiguration |  InterfaceAlias,InterfaceDescription,IPv4Address
- $ Get-DnsClientServerAddress

*Check Routing Information
- route print
- Get-NetRoute -AddressFamily IPv4/IPv6
- arp -a (Prints arp table)
![Screenshot at 2023-01-04 11-33-17](https://user-images.githubusercontent.com/85208639/210493090-d09eb1e5-59a9-4e69-bc9d-5bf284130dd9.png)

-  Get-NetNeighbor -AddressFamily IPv4


![Screenshot at 2023-01-04 11-38-32](https://user-images.githubusercontent.com/85208639/210493697-e61011c7-20d7-4762-b10f-440c4306103f.png)

- netstat -ano

* Check Firewall Status
-  netsh firewall show state
- netsh firewall show config

* Disable Firewall
 - netsh firewall set opmode disable (Disable Firewall)
 - netsh firewall set opmode disable (Disable all Profiles)
 
 #### Antivirus and Detection
 - Get-MpComputerStatus
 * CheckFirewall logs
  - netsh advfirewall show domain
  
  ![Screenshot at 2023-01-04 11-57-33](https://user-images.githubusercontent.com/85208639/210495846-22fd7d0e-4165-43d5-ad80-02499ac70816.png)

- Set-MpPreference -DisableRealtimeMonitoring $true (Disable Realtime Monitoring)

#### Hunting Passwords
* Password Hash Location in Windows
- C:\Windows\System32\config\SAM C:\Windows\System32\config\SYSTEM (Combine both files using samdump and crack using john)
- Grep Strings containing password [cd C:\ & findstr /SI /M "password" *.xml *.txt *.ini]

#### Check Windows Activities
- Go to event viewer and use filters. For eg. to see login activity use filter 4624 in event id.
- 4672 for time stamp.
- 
